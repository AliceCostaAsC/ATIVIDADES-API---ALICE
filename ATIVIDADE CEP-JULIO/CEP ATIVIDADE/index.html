<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>

    <h1>Validador de CEP</h1>
    <div class="input-group mb-3">
        <input type="text" id="cep" class="form-control" placeholder="Digite o CEP" aria-label="Example text with button addon" aria-describedby="button-addon1">
        <button onclick="buscar()" class="btn btn-outline-secondary" id="button-addon1">Clique</button>
    </div>

    <div id="tudo">
        <div class="form-group">
            <label for="formGroupExampleInput">Logradouro</label>
            <input type="text" class="form-control" id="logradouro" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">Complemento</label>
            <input type="text" class="form-control" id="complemento" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">Bairro</label>
            <input type="text" class="form-control" id="bairro" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">Localidade</label>
            <input type="text" class="form-control" id="localidade" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">UF</label>
            <input type="text" class="form-control" id="uf" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">IBGE</label>
            <input type="text" class="form-control" id="ibge" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">GIA</label>
            <input type="text" class="form-control" id="gia" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">DDD</label>
            <input type="text" class="form-control" id="ddd" placeholder="- - -">
        </div>
        <div class="form-group">
            <label for="formGroupExampleInput2">SIAFI</label>
            <input type="text" class="form-control" id="siafi" placeholder="- - -">
        </div>
    </div>


    <script>
        function buscar() {
            const CEP = document.querySelector("#cep")

            const showData = (result) => {
                for (const campo in result) {
                    document.getElementById("logradouro").value = result.logradouro
                    document.getElementById("complemento").value = result.complemento
                    document.getElementById("bairro").value = result.bairro
                    document.getElementById("localidade").value = result.localidade
                    document.getElementById("uf").value = result.uf
                    document.getElementById("ibge").value = result.ibge
                    document.getElementById("gia").value = result.gia
                    document.getElementById("ddd").value = result.ddd
                    document.getElementById("siafi").value = result.siafi

                }
            }

            let search = document.getElementById("cep").value

            const options = {
                method: 'GET',
                mode: 'cors',
                cache: 'default'
            }

            fetch(`https://viacep.com.br/ws/${search}/json/`, options)
                .then(response => response.json())
                .then(data => showData(data))

            .catch(e => console.log('Houve um erro'))
        }
    </script>



</body>

</html>